!function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i=window.webpackJsonp;window.webpackJsonp=function(r,a,o){for(var s,p,l,u=0,c=[];u<r.length;u++)p=r[u],n[p]&&c.push(n[p][0]),n[p]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(i&&i(r,a,o);c.length;)c.shift()();if(o)for(u=0;u<o.length;u++)l=t(t.s=o[u]);return l};var r={},n={2:0};t.e=function(e){function i(){s.onerror=s.onload=null,clearTimeout(p);var t=n[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),n[e]=void 0)}var r=n[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var a=new Promise(function(t,i){r=n[e]=[t,i]});r[2]=a;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+"scripts/"+e+".js";var p=setTimeout(i,12e4);return s.onerror=s.onload=i,o.appendChild(s),a},t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=261)}({123:function(e,t,i){"use strict";function r(){function e(e){switch(e){case SyncStatus.DOWNLOADING_PACKAGE:F7.showPreloader("下载更新中");break;case SyncStatus.INSTALLING_UPDATE:F7.hidePreloader()}}function t(e){}document.addEventListener("backbutton",DEVCONFIG.BackButton.bind(this),!1),document.addEventListener("online",DEVCONFIG.OnLineEvent.bind(this),!1),document.addEventListener("offline",DEVCONFIG.OffLineEvent.bind(this),!1),window.addEventListener("batterystatus",DEVCONFIG.OnBatteryStatus,!1),document.addEventListener("resume",function(){codePush.sync(e,{updateDialog:{appendReleaseDescription:!0,descriptionPrefix:"更新内容：\n",updateTitle:"版本更新",optionalUpdateMessage:"有更新内容,请执行更新！",mandatoryUpdateMessage:"有更新内容,请执行更新！",optionalIgnoreButtonLabel:"忽略",optionalInstallButtonLabel:"立即更新",mandatoryContinueButtonLabel:"立即更新"},installMode:InstallMode.IMMEDIATE},t)},!1)}var n=(i(7),i(33));window.DEVCONFIG={},DEVCONFIG.uploadFileInfo=[],localStorage.getItem("repairSignIn")?DEVCONFIG.isWorking=!0:DEVCONFIG.isWorking=!1,DEVCONFIG.toast=function(e,t){function i(){$$(r).removeClass("modal-in").addClass("modal-out").transitionEnd(function(){$$(this).remove()})}var r=$$('<div class="modal toast">'+e+"</div>");$$(".toast").length||($$("body").append(r),$$(r).show(),$$(r).css({marginTop:-Math.round($$(r).outerHeight()/2)+"px"}),$$(r).css({marginLeft:-Math.round($$(r).outerWidth()/2)+"px"}),$$(r).addClass("modal-in").transitionEnd(function(){}),$$(r).on("click",function(){i()}),setTimeout(function(){i()},t||1500))},DEVCONFIG.SignalRHub={},DEVCONFIG.SignalRHub.con=$.hubConnection(n.Signalr.signalr,{useDefaultPath:!1}),DEVCONFIG.SignalRHub.hub=DEVCONFIG.SignalRHub.con.createHubProxy("messageHub"),DEVCONFIG.SignalRHub.hub.on("onPushOrderEvent",function(e){for(var t=0;t<e.userIds.length;t++){if(e.userIds[t]==localStorage.getItem("userId")){cordova.plugins.localNotify.schedule(function(e){},function(e){},{id:e.orderId,text:e.describe});break}}}),DEVCONFIG.SignalRHub.con.start().done(function(){console.log(DEVCONFIG.SignalRHub.con)}).fail(function(){console.log("Could not connect")}),document.addEventListener("deviceready",r.bind(void 0),!1),DEVCONFIG.OnBatteryStatus=function(e){console.log("Level: "+e.level+" isPlugged: "+e.isPlugged),DEVCONFIG.Battery=e.level},DEVCONFIG.OnLineEvent=function(){return DEVCONFIG.toast("连接到网络"),DEVCONFIG.SignalRHub.con.start().done(function(){}).fail(function(){console.log("Could not connect")}),!1},DEVCONFIG.OffLineEvent=function(){return DEVCONFIG.toast("已失去网络！"),!1},DEVCONFIG.BackButton=function(){if(mainView){if(F7Popup&&F7Popup.length>0){var e=F7Popup.pop();return F7.closeModal("."+e),!1}"home"==mainView.activePage.name||"danger"==mainView.activePage.name||"workorder"==mainView.activePage.name||"notify"==mainView.activePage.name?navigator.Backbutton.goHome(function(){},function(){}):(F7.closeModal(),mainView.router.back())}},DEVCONFIG.setCameraOptions=function(e){return{quality:50,destinationType:Camera.DestinationType.FILE_URI,sourceType:e,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE,allowEdit:!1,correctOrientation:!0}},DEVCONFIG.openCamera=function(e){var t=e?Camera.PictureSourceType.CAMERA:Camera.PictureSourceType.SAVEDPHOTOALBUM,i=DEVCONFIG.setCameraOptions(t),r=DEVCONFIG.getFileEntry;navigator.camera.getPicture(function(e){DEVCONFIG.displayImage(e),r(e)},function(e){console.debug("Unable to obtain picture: "+e,"app")},i)},DEVCONFIG.displayImage=function(e){for(var t=document.querySelectorAll(".take-picture-box .take-picture-item"),i=0;i<t.length;i++)if("none"===t[i].style.display||""===t[i].style.display){t[i].children[1].src=e,t[i].style.display="block";break}},DEVCONFIG.downloadFile=function(e,t){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(i){DEVCONFIG.createDirectory(i.root,"Download",function(i){i.getFile(e,{create:!0,exclusive:!1},function(e){var i=e.nativeURL,r=new FileTransfer,n=encodeURI(t);r.download(n,i,function(e){F7.alert("下载成功："+e.toURL())},function(e){alert("error: "+e.code)})},function(e){console.log(e)})})},function(e){console.log(e)})},DEVCONFIG.createDirectory=function(e,t,i){e.getDirectory(t,{create:!0},function(e){i&&i instanceof Function&&i(e)},function(e){console.log(e)})},DEVCONFIG.getFileEntry=function(e){window.resolveLocalFileSystemURL(e,function(e){DEVCONFIG.uploadFile(e)},function(){DEVCONFIG.createNewFileEntry(e)})},DEVCONFIG.createNewFileEntry=function(e){window.resolveLocalFileSystemURL(cordova.file.cacheDirectory,function(e){e.getFile("tempFile.jpeg",{create:!0,exclusive:!1},function(e){},null)},null)},DEVCONFIG.uploadFile=function(e){function t(e){F7.hideIndicator();var t=JSON.parse(e.response);t.success&&DEVCONFIG.uploadFileInfo.push(t.result.items[0])}function i(e){F7.hideIndicator()}F7.showIndicator();var r=e.toURL(),a=encodeURI(n.Upload.File),o=new FileUploadOptions;o.fileKey="file",o.fileName=r.substr(r.lastIndexOf("/")+1),o.mimeType="image/jpeg",(new FileTransfer).upload(e.toURL(),a,t,i,o)},DEVCONFIG.NeedCheckPoint=[],DEVCONFIG.taskTimer=null,DEVCONFIG.startTask=function(){try{var e=function(e){alert("code: "+e.code+"\nmessage: "+e.message+"\n")};navigator.geolocation.clearWatch(DEVCONFIG.taskTimer),DEVCONFIG.taskTimer=null;var t=function(e){$$.ajax({url:n.Gps.AppReportGpsStatus,type:"post",contentType:"application/json",data:JSON.stringify({userId:parseInt(localStorage.getItem("userId")),posX:e.coords.longitude,posY:e.coords.latitude,batt:DEVCONFIG.Battery})})};DEVCONFIG.taskTimer=navigator.geolocation.watchPosition(t,e,{enableHighAccuracy:!0})}catch(e){alert(e)}},DEVCONFIG.stopTask=function(){navigator.geolocation.clearWatch(DEVCONFIG.taskTimer),DEVCONFIG.taskTimer=null}},261:function(e,t,i){i(33),e.exports=i(123)},33:function(e,t,i){"use strict";var r={};r.ReleaseIP="http://repair.gaspis.cn:30004",r.RiskIP="http://yingji.gaspis.cn:30003",r.PROJNAME="",r.AppApiPrefix=r.ReleaseIP+"/"+r.PROJNAME,r.User={},r.User.GetUserMenuNav=r.AppApiPrefix+"/api/services/app/user/GetUserMenuNav",r.User.GetUserInfoPageList=r.AppApiPrefix+"/api/services/app/user/GetUserInfoPageList",r.User.GetUserRoleStatusList=r.AppApiPrefix+"/api/services/app/user/GetUserRoleStatusList",r.User.SetUserRole=r.AppApiPrefix+"/api/services/app/user/SetUserRole",r.User.NotifyMessageList=r.AppApiPrefix+"/api/services/app/user/GetNotifyMessageList",r.User.DeleteNotifyMessage=r.AppApiPrefix+"/api/services/app/user/DeleteNotifyMessage",r.User.SimpleRiskInfoById=r.RiskIP+"/api/services/app/riskInfo/GetSimpleRiskInfoById",r.RiskPlan={},r.RiskPlan.RiskPlanDetailInfoById=r.RiskIP+"/api/services/app/riskPlan/GetRiskPlanDetailInfoById",r.Upload={},r.Upload.File=r.AppApiPrefix+"/api/FileUpload/UploadFile",r.Signalr={},r.Signalr.signalr=r.AppApiPrefix+"/signalr",r.Business={},r.Business.GetPageBusinessList=r.AppApiPrefix+"/api/services/app/business/GetPageBusinessList",r.Business.GetChildrenBusinessList=r.AppApiPrefix+"/api/services/app/business/GetChildrenBusinessList",r.Business.CreateBusiness=r.AppApiPrefix+"/api/services/app/business/CreateBusiness",r.Business.DeleteBusiness=r.AppApiPrefix+"/api/services/app/business/DeleteBusiness",r.Business.UpdateBusiness=r.AppApiPrefix+"/api/services/app/business/UpdateBusiness",r.Business.GetParentBusinessList=r.AppApiPrefix+"/api/services/app/business/GetParentBusinessList",r.Role={},r.Role.GetAllRoles=r.AppApiPrefix+"/api/services/app/role/GetAllRoles",r.Role.GetRoleBusiness=r.AppApiPrefix+"/api/services/app/role/GetRoleBusiness",r.Role.GetRoleCurrStatusBusiness=r.AppApiPrefix+"/api/services/app/role/GetRoleCurrStatusBusiness",r.Role.SetRoleBusiness=r.AppApiPrefix+"/api/services/app/role/SetRoleBusiness",r.Role.CreateRole=r.AppApiPrefix+"/api/services/app/role/CreateRole",r.Role.DeleteRole=r.AppApiPrefix+"/api/services/app/role/DeleteRole",r.Role.UpdateRole=r.AppApiPrefix+"/api/services/app/role/UpdateRole",r.Login={},r.Login.AppLogin=r.AppApiPrefix+"/api/services/app/user/AppLogin",r.Sign={},r.Sign.AppWorkSignIn=r.AppApiPrefix+"/api/services/app/userSign/AppWorkSignIn",r.Sign.AppWorkSignOff=r.AppApiPrefix+"/api/services/app/userSign/AppWorkSignOff",r.Sign.WorkRecardList=r.AppApiPrefix+"/api/services/app/userSign/GetWorkRecardList",r.Stats={},r.Stats.StaPlanByUser=r.AppApiPrefix+"/api/services/app/statistic/StaPlanByUser",r.Target={},r.Target.RepairTargetAll=r.AppApiPrefix+"/api/services/app/repairTarget/GetRepairTargetAll",r.Rule={},r.Rule.RepairRuleList=r.AppApiPrefix+"/api/services/app/repairRule/GetRepairRuleList",r.Plan={},r.Plan.CreateAppRepairPlan=r.AppApiPrefix+"/api/services/app/repairPlan/CreateAppRepairPlan",r.Plan.NeedReport=r.AppApiPrefix+"/api/services/app/repairPlan/GetNeedReport",r.workOrder={},r.workOrder.NeedTraceWorkOrder=r.AppApiPrefix+"/api/services/app/workOrder/GetNeedTraceWorkOrder",r.workOrder.CreateWorkOrderTrace=r.AppApiPrefix+"/api/services/app/workOrder/CreateWorkOrderTrace",r.workOrder.AppWorkOrderList=r.AppApiPrefix+"/api/services/app/workOrder/GetAppWorkOrderList",r.workOrder.WorkOrderEvent=r.AppApiPrefix+"/api/services/app/workOrder/GetWorkOrderEventList",r.workOrder.CreateWorkOrderEvent=r.AppApiPrefix+"/api/services/app/workOrder/CreateWorkOrderEvent",r.Gps={},r.Gps.AppReportGpsStatus=r.AppApiPrefix+"/api/services/app/user/AppReportGpsStatus",e.exports=r},7:function(e,t,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={};n.clientWidth=document.body.clientWidth,n.clientHeight=document.body.clientHeight,n.toast=function(e,t){function i(){$$(r).removeClass("modal-in").addClass("modal-out").transitionEnd(function(){$$(this).remove()})}var r=$$('<div class="modal toast">'+e+"</div>");$$(".toast").length||($$("body").append(r),$$(r).show(),$$(r).css({marginTop:-Math.round($$(r).outerHeight()/2)+"px"}),$$(r).css({marginLeft:-Math.round($$(r).outerWidth()/2)+"px"}),$$(r).addClass("modal-in").transitionEnd(function(){}),$$(r).on("click",function(){i()}),setTimeout(function(){i()},t||1500))},n.paramData=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=[],r="";for(var n in e)i.push(n+"="+e[n]);return r=i.join("&"),!1!==t&&(r=""===r?r:"?"+r),r},n.getDate=function(e){var t=new Date,i=t.getFullYear(),r=fixTime(t.getMonth()+1),n=t.getDay(),a=fixTime(t.getDate()),o=i+"/"+r+"/"+a;return"y"==e?o=i:"ym"==e?o=i+"-"+r:"m"==e?o=r:"w"==e&&(o="周"+"日一二三四五六".charAt(n)),o},n.GetDateTime=function(e,t){var i=new Date(e);return i.setDate(i.getDate()+t),i.getFullYear()+"/"+fixTime(i.getMonth()+1)+"/"+fixTime(i.getDate())},n.getHour=function(e,t){var i=/\d{4}-\d{1,2}-\d{1,2} /;e=new Date((i.test(e)?e:"2017-1-1 "+e).replace(/-/g,"/")),t=new Date((i.test(t)?t:"2017-1-1 "+t).replace(/-/g,"/"));var r="";r=t.getTime()>e.getTime()?t.getTime()-e.getTime():e.getTime()-t.getTime();var n=(Math.floor(r/1e3/60/60),r%864e5),a=(Math.floor(n/36e5),n%36e5);Math.floor(a/6e4);return Math.floor(r/1e3/60)},n.getHours=function(e,t){var i=/\d{4}-\d{1,2}-\d{1,2} /;e=new Date((i.test(e)?e:"2017-1-1 "+e).replace(/-/g,"/")),t=new Date((i.test(t)?t:"2017-1-1 "+t).replace(/-/g,"/"));var r="";r=t.getTime()>e.getTime()?t.getTime()-e.getTime():e.getTime()-t.getTime();var n=Math.floor(r/864e5),a=r%864e5,o=Math.floor(a/36e5),s=a%36e5,p=Math.floor(s/6e4),l=s%6e4;Math.round(l/1e3);return" "+n+"天"+o+"小时"+p+"分钟"},n.getSearch=function(){var e=window.location.search;if(e){var t=e.split("?")[1].split("&"),i={};for(var r in t){var n=t[r].split("=");i[n[0]]=n[1]}return i}return null},n.fmtDataArry=function(e,t){var i=[],r=[],n=e.length;i.length=Math.ceil(n/t);for(var a=0;a<i.length;a++){var o=[];r[a]=[];var s=t;n<=t&&(s=n),a>0&&(s=t*a+n%t);for(var p=a*t;p<s;p++)o.push(e[p]);r[a]=o}return r},n.fixTime=function(e){return e<0?e="00":e<10&&(e="0"+e),e},n.getDateYmd=function(e){return""==e||null==e?"":e.slice(0,10)},n.ftime=function(e){var t=e.substring(0,10).replace(/\-/g,"/"),i=e.substring(11,19),r=new Date(t+" "+i).getTime(),a=(new Date).getTime(),o=a-r,s=Math.floor(o/864e5);if(0===s){var p=o%864e5,l=Math.floor(p/36e5);if(0===l){var u=p%36e5,c=Math.floor(u/6e4);if(0===c){var f=u%6e4;return Math.round(f/1e3)+"秒前"}return c+"分钟前"}return l+"小时前"}if(s>7){var d=new Date(e),g=n.fixTime(d.getMonth()+1),v=n.fixTime(d.getDate());return d.getFullYear()+"-"+g+"-"+v}return s+"天前"},n.getElementByAttr=function(e,t,i){for(var n=0,a=e.length;n<a;n++)if((!e[n][t]||"object"!=r(e[n][t]))&&e[n][t]==i)return e[n];return!1},n.getElementIndex=function(e,t,i){for(var n=0,a=e.length;n<a;n++)if((!e[n][t]||"object"!=r(e[n][t]))&&e[n][t]==i)return n;return!1},n.getPreMonth=function(e){var t=e.split("-"),i=t[0],r=t[1],n=t[2],a=new Date(i,r,0);a=a.getDate();var o=i,s=parseInt(r)-1;0==s&&(o=parseInt(o)-1,s=12);var p=n,l=new Date(o,s,0);return l=l.getDate(),p>l&&(p=l),s<10&&(s="0"+s),(o+"-"+s+"-"+p).split(" ")[0]+" 00:00"},e.exports=n}});